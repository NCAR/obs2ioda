include(${CMAKE_SOURCE_DIR}/test/cmake/Obs2Ioda_Test_Functions.cmake)
set(ioda_group_test_SOURCES
        "ioda_group.test.cc"
)
set(ioda_group_test_INCLUDE_DIRECTORIES
        "${CMAKE_CURRENT_SOURCE_DIR}"
        "${CMAKE_BINARY_DIR}/generated"
)
set(ioda_group_test_LIBRARY_DEPENDENCIES
        obs2ioda_cxx
        yaml-cpp::yaml-cpp
        GTest::gtest_main
)
add_cxx_ctest(ioda_group_test
        "${ioda_group_test_SOURCES}"
        "${ioda_group_test_INCLUDE_DIRECTORIES}"
        "${ioda_group_test_LIBRARY_DEPENDENCIES}"
)

set(ioda_variable_test_SOURCES
        "ioda_variable.test.cc"
)
set(ioda_variable_test_INCLUDE_DIRECTORIES
        "${CMAKE_CURRENT_SOURCE_DIR}"
        "${CMAKE_BINARY_DIR}/generated"
)
set(ioda_variable_test_LIBRARY_DEPENDENCIES
        obs2ioda_cxx
        yaml-cpp::yaml-cpp
        GTest::gtest_main
)
add_cxx_ctest(ioda_variable_test
        "${ioda_variable_test_SOURCES}"
        "${ioda_variable_test_INCLUDE_DIRECTORIES}"
        "${ioda_variable_test_LIBRARY_DEPENDENCIES}"
)

set(ioda_obs_schema_test_SOURCES
        "ioda_obs_schema.test.cc"
)
set(ioda_obs_schema_test_INCLUDE_DIRECTORIES
        "${CMAKE_CURRENT_SOURCE_DIR}"
        "${CMAKE_BINARY_DIR}/generated"
)
set(ioda_obs_schema_test_LIBRARY_DEPENDENCIES
        obs2ioda_cxx
        yaml-cpp::yaml-cpp
        GTest::gtest_main
)
add_cxx_ctest(ioda_obs_schema_test
        "${ioda_obs_schema_test_SOURCES}"
        "${ioda_obs_schema_test_INCLUDE_DIRECTORIES}"
        "${ioda_obs_schema_test_LIBRARY_DEPENDENCIES}"
)

set(ioda_v1_to_v3_test_SOURCES
        "ioda_v1_to_v3.test.cc"
)
set(ioda_v1_to_v3_test_INCLUDE_DIRECTORIES
        "${CMAKE_CURRENT_SOURCE_DIR}"
        "${CMAKE_BINARY_DIR}/generated"
)
set(ioda_v1_to_v3_test_LIBRARY_DEPENDENCIES
        obs2ioda_cxx
        yaml-cpp::yaml-cpp
        GTest::gtest_main
)
add_cxx_ctest(ioda_v1_to_v3_test
        "${ioda_v1_to_v3_test_SOURCES}"
        "${ioda_v1_to_v3_test_INCLUDE_DIRECTORIES}"
        "${ioda_v1_to_v3_test_LIBRARY_DEPENDENCIES}"
)
